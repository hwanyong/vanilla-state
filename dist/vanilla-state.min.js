!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).VanillaState=e()}(this,(function(){"use strict";return class{constructor(){return this._state={},this._listeners={},new Proxy(this,{get:(t,e)=>e in t?t[e]:t._state[e],set:(t,e,s)=>(e in t?t[e]=s:t._setState(e,s,!0),!0)})}addEventListener(t,e){this._listeners[t]||(this._listeners[t]=new Set),this._listeners[t].add(e)}removeEventListener(t,e){this._listeners[t]&&(this._listeners[t].delete(e),0===this._listeners[t].size&&delete this._listeners[t])}_notify(t){this._listeners[t]&&this._listeners[t].forEach((e=>e(this._state[t])))}_setState(t,e,s=!0){this._state[t]=e,s&&this._notify(t)}setWithoutNotify(t,e){this._setState(t,e,!1)}}}));
